(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{229:function(t,e,n){var content=n(264);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(42).default)("0f5b3666",content,!0,{sourceMap:!1})},230:function(t,e,n){var content=n(266);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(42).default)("2eafed50",content,!0,{sourceMap:!1})},231:function(t,e,n){var content=n(268);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(42).default)("f27d590c",content,!0,{sourceMap:!1})},232:function(t,e,n){var content=n(270);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(42).default)("c7e7d698",content,!0,{sourceMap:!1})},233:function(t,e,n){var content=n(272);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(42).default)("69c6da0c",content,!0,{sourceMap:!1})},234:function(t,e,n){var content=n(274);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(42).default)("2d0b14e0",content,!0,{sourceMap:!1})},235:function(t,e,n){var content=n(276);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(42).default)("30c8ec10",content,!0,{sourceMap:!1})},236:function(t,e,n){var content=n(278);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(42).default)("2dffad03",content,!0,{sourceMap:!1})},263:function(t,e,n){"use strict";n(229)},264:function(t,e,n){var o=n(41)(!1);o.push([t.i,".bgimageholder[data-v-1db167eb]{position:relative;width:100%;height:100%;z-index:1}.mainimage[data-v-1db167eb]{position:absolute;top:0;left:0;z-index:2;max-width:none;transition:opacity 2s}.mainimage.draggable[data-v-1db167eb]{cursor:-webkit-grab;cursor:grab}.mainimage.draggable.dragging[data-v-1db167eb]{cursor:-webkit-grabbing!important;cursor:grabbing!important}.mainimage.transitioning[data-v-1db167eb]{transition:width 1s,height 1s,top 1s,left 1s,opacity 2s}.mask[data-v-1db167eb]{pointer-events:none;position:absolute;top:0;left:0;bottom:0;right:0;background:#000;z-index:3;opacity:0;transition:opacity .4s}.mask.on[data-v-1db167eb]{transition:opacity .2s;opacity:1}.debugtarget[data-v-1db167eb]{position:absolute;z-index:100;background:red;width:5px;height:5px}.blurimageholder[data-v-1db167eb]{position:absolute;top:0;left:0;bottom:0;right:0;z-index:1;transition:opacity 3s}.blurimage[data-v-1db167eb]{background-size:cover;width:130vh;height:130vh;min-width:130vw;transform:translate(-15vh,-15vh);filter:blur(3vh) brightness(70%)}.fade-enter-active[data-v-1db167eb],.fade-leave-active[data-v-1db167eb]{transition:opacity .3s}.fade-enter[data-v-1db167eb],.fade-leave-to[data-v-1db167eb]{opacity:0}",""]),t.exports=o},265:function(t,e,n){"use strict";n(230)},266:function(t,e,n){var o=n(41)(!1);o.push([t.i,".sound[data-v-2bcd3ea0]{pointer-events:auto}.sound audio[data-v-2bcd3ea0]{outline:none}",""]),t.exports=o},267:function(t,e,n){"use strict";n(231)},268:function(t,e,n){var o=n(41)(!1);o.push([t.i,".textholder[data-v-068c0388]{pointer-events:none;z-index:3}.textholder[data-v-068c0388],.titleonly[data-v-068c0388]{position:absolute;top:0;left:0;right:0;bottom:0}.titleonly[data-v-068c0388]{display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,.5)}.titleonly h1[data-v-068c0388]{text-align:center;margin:0;color:#fff;max-width:70vw}.textbox[data-v-068c0388]{position:absolute;pointer-events:auto;bottom:7vh;right:3vh;max-width:40vh;max-height:100%;padding:2vh 3vh;background:hsla(0,0%,100%,.95);display:inline-block;box-shadow:0 6vh 6vh rgba(0,0,0,.2),0 .3vh .6vh rgba(0,0,0,.2);transition:opacity transform .5s .5s;overflow-x:hidden;overflow-y:auto}.textbox.top[data-v-068c0388]{bottom:auto;top:3vh}.textbox.left[data-v-068c0388]{right:auto;left:3vh}.textbox.sidepanel[data-v-068c0388]{right:0;top:0;bottom:0;max-width:35vh;min-width:25vw;padding:4vh 4vh 20vh}.textbox.sidepanel.left[data-v-068c0388]{right:auto;left:0}h2[data-v-068c0388]{margin-top:0}.slowfade-enter-active[data-v-068c0388],.slowfade-leave-active[data-v-068c0388]{transition:opacity .7s}.slowfade-enter[data-v-068c0388],.slowfade-leave-to[data-v-068c0388]{opacity:0}",""]),t.exports=o},269:function(t,e,n){"use strict";n(232)},270:function(t,e,n){var o=n(41)(!1);o.push([t.i,'.nav[data-v-4e80b97e]{position:absolute;bottom:0;left:0;right:0;height:5vh;min-height:45px;display:flex;align-items:stretch;z-index:10;background:#fff;box-shadow:0 -1vh 3vh rgba(0,0,0,.1)}.nav>*[data-v-4e80b97e]{padding-top:20%;padding-bottom:20%;flex-grow:1}.nav .logo[data-v-4e80b97e]{background:#000;width:90px;height:100%;flex-grow:0;flex-shrink:0}.nav h4[data-v-4e80b97e]{margin:0;font-weight:700;text-transform:uppercase;flex-grow:0;flex-shrink:1;padding:0 4vw}.nav .panes[data-v-4e80b97e],.nav h4[data-v-4e80b97e]{height:100%;display:flex;align-items:center}.nav .panes[data-v-4e80b97e]{position:relative;padding:0}.nav .pane[data-v-4e80b97e]{flex-grow:1;height:100%;position:relative;text-align:center;cursor:pointer;margin-left:3px;max-width:100px}.nav .pane[data-v-4e80b97e]:after{content:"";position:absolute;top:50%;left:0;height:5px;transform:translateY(-50%);width:100%;transition:all .2s;background:rgba(0,0,0,.1)}.nav .pane.done[data-v-4e80b97e]:after{background:rgba(0,0,0,.4)}.nav .pane.active[data-v-4e80b97e]:after{background:#00f}.nav .pane[data-v-4e80b97e]:hover:after{background:#000}.nav .pane[data-v-4e80b97e]:last-of-type{margin-right:5vw}.nav .controls[data-v-4e80b97e]{border-left:1px solid rgba(0,0,0,.1);flex-grow:0;padding:0 20px;display:flex;height:100%;align-items:stretch}.nav .controls>*[data-v-4e80b97e]{position:relative;display:inline-flex;align-items:center;justify-content:center;width:70px}.nav .controls>.selectable[data-v-4e80b97e]:hover{cursor:pointer;background:rgba(0,0,0,.1)}.nav .controls img[data-v-4e80b97e]{height:45%}.nav .controls img.small[data-v-4e80b97e]{height:37%}',""]),t.exports=o},271:function(t,e,n){"use strict";n(233)},272:function(t,e,n){var o=n(41)(!1);o.push([t.i,".overlaynav[data-v-391a730d]{width:100%;height:100%;pointer-events:none;position:absolute;top:0;left:0;z-index:10;display:flex;align-items:center;justify-content:space-between}.overlaynav>*[data-v-391a730d]{display:inline-block;pointer-events:auto}.navbutton[data-v-391a730d]{cursor:pointer;padding:1vh;background:#fff;transition:all .3s;position:relative}.navbutton[data-v-391a730d]:hover{box-shadow:0 .5vh 2vh rgba(0,0,0,.4)}.left[data-v-391a730d]{padding-left:3vh;left:-2vh;transition:left .3s}.left[data-v-391a730d]:hover{left:0}.right[data-v-391a730d]{padding-right:3vh;right:-2vh}.right[data-v-391a730d]:hover{right:0}",""]),t.exports=o},273:function(t,e,n){"use strict";n(234)},274:function(t,e,n){var o=n(41)(!1);o.push([t.i,".videoholder[data-v-0469d799]{overflow:hidden;pointer-events:none}video[data-v-0469d799]{pointer-events:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:2;box-shadow:0 3vh 6vh rgba(0,0,0,.4);transition:opacity .4s}video.fillscreen[data-v-0469d799]{height:100%;min-width:100%}.mask[data-v-0469d799],video[data-v-0469d799]:not(.on){pointer-events:none;opacity:0}.mask[data-v-0469d799]{position:absolute;top:0;left:0;bottom:0;right:0;background:#000;z-index:3;transition:opacity .4s}.mask.on[data-v-0469d799]{transition:opacity .2s;opacity:1}",""]),t.exports=o},275:function(t,e,n){"use strict";n(235)},276:function(t,e,n){var o=n(41)(!1);o.push([t.i,"#preloadautoplay[data-v-7ee071a8]{width:1px;height:1px;position:fixed;opacity:0;pointer-events:none}.exhibition[data-v-7ee071a8]{position:relative;display:flex;flex-direction:column;height:100vh;width:100vw;overflow:hidden}.header[data-v-7ee071a8]{position:relative;z-index:100;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.soundholder[data-v-7ee071a8]{position:absolute;top:3vh;left:3vh;z-index:5;pointer-events:none}.paneholder[data-v-7ee071a8]{flex-grow:1;position:relative;background:#000;transition:background .5s}.nav[data-v-7ee071a8]{transition:bottom .5s}.nav.hide[data-v-7ee071a8]{bottom:-5vh}",""]),t.exports=o},277:function(t,e,n){"use strict";n(236)},278:function(t,e,n){var o=n(41)(!1);o.push([t.i,".exholder{width:100%;height:100%}.exholder p{margin-bottom:1.5em}",""]),t.exports=o},280:function(t,e,n){"use strict";n.r(e);n(17),n(16),n(12),n(23),n(24);var o=n(6),r=n(3),l=(n(30),{props:{},data:function(){return{}},computed:{},watch:{},mounted:function(){},methods:{}}),c=n(8),d=Object(c.a)(l,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"blank"},[t._v("\n  nada\n")])}),[],!1,null,"2e9405a4",null).exports,h=n(27),f=n(11);n(34),n(18),n(82);var v={props:{image:{},x:{default:.5},y:{default:.5},z:{default:0},toX:{},toY:{},toZ:{},slideTime:{default:6e3},background:{},interactable:{default:!0},index:{}},data:function(){return{src:null,prevImage:null,isLoaded:!1,zoomMultiplier:1.01,offset:[0,0,1],imageSize:[1200,1200],dragStart:null,dragVelocity:null,dragOffset:[0,0],prevDragOffset:[0,0],repositionStart:null,repositionTarget:null,repositionDifference:null,moveStartTime:null,moveTime:0,easingFunctions:{inOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeOutQuad:function(t){return t*(2-t)},easeOutCubic:function(t){return--t*t*t+1},easeOutQuint:function(t){return 1+--t*t*t*t*t}}}},computed:{winSize:function(){return this.$store.state.winSize},path:function(){return this.$store.state.path},width:function(){if(!this.src)return 0;var t=this.imageSize[0],e=this.imageSize[1];return t<this.winSize[0]||e<this.winSize[1]?t:t*=this.offset[2]},height:function(){return this.width*(1/this.imageAspectRatio)},left:function(){return this.canDrag[0]?this.offset[0]:this.winSize[0]/2-this.width/2},top:function(){return this.canDrag[1]?this.offset[1]:this.winSize[1]/2-this.height/2},imageAspectRatio:function(){return this.imageSize[0]/this.imageSize[1]},windowAspectRatio:function(){return this.winSize[0]/this.winSize[1]},canDrag:function(){return[this.width>this.winSize[0],this.height>this.winSize[1]]},minZoom:function(){var t=Math.max(this.winSize[0]/this.imageSize[0],this.winSize[1]/this.imageSize[1]);return t>1&&(t=1),void 0===t?1:t},normalizedOffset:function(){return[-1*(this.offset[0]-this.winSize[0]/2)/this.width,-1*(this.offset[1]-this.winSize[1]/2)/this.height,(this.offset[2]-this.minZoom)/Math.abs(this.minZoom-1)]}},watch:{winSize:function(){this.reposition()},index:function(){this.paneChange()}},mounted:function(){this.paneChange(),window.addEventListener("mousewheel",this.handleScroll),window.addEventListener("DOMMouseScroll",this.handleScroll)},beforeDestroy:function(){window.removeEventListener("mousewheel",this.handleScroll),window.removeEventListener("DOMMouseScroll",this.handleScroll)},methods:{normalizedToRealWithinUseableArea:function(t){var e=Object(f.a)(t,3),n=e[0],o=e[1],r=e[2];void 0===n&&(n=void 0===this.x?.5:this.x),void 0===o&&(o=void 0===this.y?.5:this.y),void 0===r&&(r=void 0===this.z?0:this.z);var l=this.minZoom+(1-this.minZoom)*(r||this.z)||this.offset[2];l>1&&(l=1),l<this.minZoom&&(l=this.minZoom);var c=this.imageSize.map((function(s){return s*l}));return[(c[0]-this.winSize[0])*n*-1,(c[1]-this.winSize[1])*o*-1,l]},repositionNormalized:function(t,e,n){var o=this.normalizedToRealWithinUseableArea(t||[]);return this.reposition(o,e,n)},zoom:function(t,e,n,o,r){void 0===e&&(e=void 0===this.x?.5:this.x),void 0===n&&(n=void 0===this.y?.5:this.y);var l=this.offset[2]*t;l>1&&(l=1),l<this.minZoom&&(l=this.minZoom);var c=this.imageSize.map((function(s){return s*l})),d=(c[0]-this.width)*e,h=(c[1]-this.height)*n,f=this.offset[0]-d,v=this.offset[1]-h;return this.reposition([f,v,l],o,r)},repositionWithChangeValues:function(t,e,n){var o=this,r=this.offset.map((function(e,n){return o.offset[n]+(t[n]||0)})),l=Object(f.a)(r,3),c=l[0],d=l[1],h=l[2];return this.reposition([c,d,h],e,n)},reposition:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0,r=t&&t[2]?this.offset[2]/t[2]:1;this.repositionTarget=t?[void 0===t[0]||"number"!=typeof t[0]?this.offset[0]*r:t[0],void 0===t[1]||"number"!=typeof t[0]?this.offset[1]*r:t[1],t[2]||this.offset[2]]:Object(h.a)(this.offset);var l=this.easingFunctions[o]||this.easingFunctions.inOutQuad;return this.moveTime=n,this.repositionStart=this.offset,this.repositionDifference=this.repositionStart.map((function(t,n){return e.repositionTarget[n]-e.repositionStart[n]})),this.moveStartTime=Date.now(),new Promise((function(t){!function n(){if(!e.repositionTarget)return t();var o=0===e.moveTime?1:(Date.now()-e.moveStartTime)/e.moveTime;o>1&&(o=1);var r=l(o),c=e.repositionDifference.map((function(t,n){return e.repositionStart[n]+e.repositionDifference[n]*r}));e.offset=e.getClosestValidPosition(c),1===o||e.offset.reduce((function(t,n,o){return t&&e.offset[o]===e.repositionTarget[o]}),!0)?(e.repositionStart=null,e.repositionTarget=null,e.repositionDifference=null,e.moveStartTime=null,t()):requestAnimationFrame(n)}()}))},paneChange:function(){var t=this.prevImage===this.image;this.prevImage=this.image,t&&this.isLoaded?this.sameImage():this.loadImage()},sameImage:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.repositionNormalized(null,800);case 2:(t.toX||t.toY||t.toZ)&&t.repositionNormalized([t.toX,t.toY,t.toZ],t.slideTime);case 3:case"end":return e.stop()}}),e)})))()},loadImage:function(){var t=this;this.isLoaded=!1,(new Image).src="".concat(this.path,"/").concat(this.image),this.fadeTimeout=window.setTimeout((function(){var e=new Image;e.addEventListener("load",function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.src!=="".concat(t.path,"/").concat(t.image)){e.next=2;break}return e.abrupt("return",t.onImgLoad());case 2:t.src="".concat(t.path,"/").concat(t.image);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.src="".concat(t.path,"/").concat(t.image)}),200)},onImgLoad:function(t){var e=this,n=t?t.target:this.$refs.mainimage;this.imageSize=[n.naturalWidth,n.naturalHeight],this.$nextTick(Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoaded=!0,t.next=3,e.resetPositioning();case 3:(e.toX||e.toY||e.toZ)&&e.repositionNormalized([e.toX,e.toY,e.toZ],e.slideTime);case 4:case"end":return t.stop()}}),t)}))))},doubleClick:function(t){if(this.interactable){var e=(t.clientX-this.left)/this.width,n=(t.clientY-this.top)/this.height;this.zoom(2,e,n,400)}},handleScroll:function(t){if(this.interactable&&0!==t.deltaY&&!t.path.find((function(t){return t.classList&&t.classList.contains("sidepanel")}))){var e=this.getZoomFocus(t),n=Object(f.a)(e,2),o=(n[0],n[1],1+t.deltaY/400);if(!(o<1&&this.offset[2]===this.minZoom||o>1&&1===this.offset[2])){var r=(t.clientX-this.left)/this.width,l=(t.clientY-this.top)/this.height,c=this.zoomMultiplier*(o-1)+1;this.zoom(c,r,l)}}},resetPositioning:function(){return this.repositionNormalized([this.x,this.y,this.z],0)},startDrag:function(t){this.interactable&&(this.repositionTarget=null,this.dragVelocity=[0,0],this.dragStart=[t.clientX-this.offset[0],t.clientY-this.offset[1]],t.preventDefault())},drag:function(t){if(t.preventDefault(),this.dragStart){var e=this.offset,n=t.clientX-this.dragStart[0],o=t.clientY-this.dragStart[1];this.canDrag[0]||(n=0),this.canDrag[1]||(o=0),this.reposition([n,o]),this.dragVelocity=[this.dragVelocity[0]/2+(n-e[0])/2,this.dragVelocity[1]/2+(o-e[1])/2]}},endDrag:function(t){if(this.dragVelocity){this.dragStart=null,this.dragVelocity=[50*this.dragVelocity[0],50*this.dragVelocity[1]];var e=.4*Math.round(Math.abs(this.dragVelocity[0])+Math.abs(this.dragVelocity[1]))+300;this.repositionWithChangeValues(this.dragVelocity,e,"easeOutQuint"),this.dragVelocity=null,t.preventDefault()}},getClosestValidPosition:function(t){var e=Object(f.a)(t,3),n=e[0],o=e[1],r=e[2];return r<this.minZoom&&(r=this.minZoom),r>1&&(r=1),this.canDrag[0]&&(n>0&&(n=0),-1*(n-this.winSize[0])>this.imageSize[0]*r&&(n=-1*(this.imageSize[0]*r-this.winSize[0]))),this.canDrag[1]&&(o>0&&(o=0),-1*(o-this.winSize[1])>this.imageSize[1]*r&&(o=-1*(this.imageSize[1]*r-this.winSize[1]))),[n,o,r]},getZoomFocus:function(t){var e=(t.clientX-this.left)/this.width,n=(t.clientY-this.top)/this.height;return[(2*e+t.clientX/this.winSize[0])/3,(2*n+t.clientY/this.winSize[1])/3]}}},m=(n(263),Object(c.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"container",staticClass:"bgimageholder",attrs:{title:""}},[n("transition",{attrs:{name:"fade"}},[t.background?t._e():n("div",{staticClass:"blurimageholder"},[n("div",{staticClass:"blurimage",style:{"background-image":"url('"+t.src+"')","background-position":100*t.x+"% "+100*t.y+"%"}})])]),t._v(" "),n("img",{ref:"mainimage",staticClass:"mainimage",class:{dragging:(t.canDrag[0]||t.canDrag[1])&&t.dragStart,draggable:t.canDrag[0]||t.canDrag[1]},style:{top:t.top+"px",left:t.left+"px",width:t.width+"px",height:t.height+"px"},attrs:{src:t.src},on:{mousedown:t.startDrag,mousemove:t.drag,mouseup:t.endDrag,mouseleave:t.endDrag,dblclick:t.doubleClick,load:t.onImgLoad}}),t._v(" "),n("div",{staticClass:"mask",class:{on:!t.isLoaded}})],1)}),[],!1,null,"1db167eb",null).exports),x=(n(43),{props:{title:{},src:{},volume:{},loop:{default:!1}},data:function(){return{currentVolume:0,targetVolume:this.volume}},computed:{path:function(){return this.$store.state.path},mute:function(){return this.$store.state.mute}},watch:{mute:function(){this.$refs.sound.muted=this.mute},volume:function(){this.currentVolume=this.$refs.sound.volume,this.targetVolume=this.volume||(this.loop?.5:1),this.fadeVolume()},loop:function(){this.$refs.sound.loop=!!this.loop},src:function(){this.$refs.sound.volume=.01,this.currentVolume=.01,this.targetVolume=this.volume||(this.loop?.5:1),this.fadeVolume()}},mounted:function(){this.src&&(this.targetVolume=this.volume||(this.loop?.5:1),this.currentVolume=.01,this.$refs.sound.volume=.01,this.$refs.sound.loop=!!this.loop,this.tryToPlay())},methods:{tryToPlay:function(){if(!this.mute&&this.$refs.sound.canplay&&!this.$refs.sound.playing){try{this.$refs.sound.play(),this.fadeVolume()}catch(t){t.preventDefault()}setTimeout(this.tryToPlay,200)}this.fadeVolume()},fadeVolume:function(){var t=this;!function e(){t.currentVolume=.9*t.currentVolume+.1*t.targetVolume,Math.abs(t.currentVolume-t.targetVolume)<.02&&(t.currentVolume=t.targetVolume),t.$refs.sound&&(t.$refs.sound.volume=t.currentVolume),t.currentVolume!==t.targetVolume&&t.$refs.sound&&setTimeout(e,100)}()},playPause:function(){this.$refs.sound.playing?this.$refs.sound.pause():this.$refs.sound.play()},keydown:function(t){"ArrowRight"!==t.code&&"ArrowDown"!==t.code&&"ArrowLeft"!==t.code&&"ArrowUp"!==t.code||t.preventDefault()}}}),w=(n(265),Object(c.a)(x,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.src?n("div",{staticClass:"sound"},[t.title?n("h4",[t._v(t._s(t.title))]):t._e(),t._v(" "),n("audio",{ref:"sound",attrs:{src:t.path+"/"+t.src,controls:"",autoplay:!t.mute},on:{keydown:t.keydown}})]):t._e()}),[],!1,null,"2bcd3ea0",null).exports),y={components:{Sound:w},props:{title:{},hero:{},text:{},audio:{},position:{default:"bottom right"}},data:function(){return{lengthCutoffForSidePanel:400,loading:!0,loadingTimeout:null,displayTitle:this.title,displayText:this.text,displayPosition:this.position}},computed:{path:function(){return this.$store.state.path},sidePanel:function(){return this.displayText.replace(/<[^>]*>/g,"").length>this.lengthCutoffForSidePanel},top:function(){return this.displayPosition.indexOf("top")>=0},left:function(){return this.displayPosition.indexOf("left")>=0}},watch:{text:function(){var t=this;this.loading=!0,window.clearTimeout(this.loadingTimeout),this.loadingTimeout=setTimeout((function(){t.loading=!1,t.displayTitle=t.title,t.displayText=t.text,t.displayPosition=t.position}),200)}},mounted:function(){var t=this;this.$nextTick((function(){return t.loading=!1}))},methods:{}},S=(n(267),Object(c.a)(y,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"textholder"},[n("transition-group",{attrs:{name:"slowfade"}},[t.hero&&!t.loading?n("div",{key:t.title,staticClass:"titleonly"},[n("h1",{domProps:{innerHTML:t._s(t.title)}})]):t.text&&!t.loading?n("div",{key:t.text,staticClass:"textbox",class:{sidepanel:t.sidePanel,top:t.top,left:t.left}},[t.title?n("h2",{domProps:{innerHTML:t._s(t.title)}}):t._e(),t._v(" "),t.audio?n("Sound",t._b({attrs:{path:t.path}},"Sound",t.audio,!1)):t._e(),t._v(" "),n("div",{domProps:{innerHTML:t._s(t.text)}})],1):t._e()])],1)}),[],!1,null,"068c0388",null).exports),_={props:{title:{},panes:{},currentPaneIndex:{}},data:function(){return{fullscreenElement:null}},computed:{fullscreen:function(){return this.$store.state.fullscreen}},watch:{},mounted:function(){this.fullscreenElement=document.getElementById("master"),this.fullscreenElement.addEventListener("fullscreenchange",this.handleFullscreenChange)},methods:{fullscreenToggle:function(){var t=this.fullscreenElement,e={navigationUI:"hide"};this.fullscreen?(document.exitFullscreen?document.exitFullscreen(e):document.mozCancelFullScreen?document.mozCancelFullScreen(e):document.webkitExitFullscreen?document.webkitExitFullscreen(e):document.msExitFullscreen&&document.msExitFullscreen(e),this.$store.commit("set",{fullscreen:!1})):(t.requestFullscreen?t.requestFullscreen(e):t.mozRequestFullScreen?t.mozRequestFullScreen(e):t.webkitRequestFullscreen?t.webkitRequestFullscreen(e):t.msRequestFullscreen&&t.msRequestFullscreen(e),this.$store.commit("set",{fullscreen:!0}))},handleFullscreenChange:function(t){this.$store.commit("set",{fullscreen:!!document.fullscreenElement})}}},P=(n(269),Object(c.a)(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nav"},[n("div",{staticClass:"logo"},[t._v("logo")]),t._v(" "),n("h4",[t._v(t._s(t.title))]),t._v(" "),n("div",{staticClass:"panes"},t._l(t.panes,(function(e,o){return n("div",{key:o,staticClass:"pane",class:{done:t.currentPaneIndex>o,active:t.currentPaneIndex===o},on:{click:function(e){return t.$emit("navigateToPane",o)}}})})),0),t._v(" "),n("div",{staticClass:"controls"},[t.$store.state.mobile?t._e():n("div",[n("img",{attrs:{src:"/assets/ex/arrowkeys.svg"}})]),t._v(" "),n("div",{staticClass:"selectable",on:{click:function(e){return t.$store.commit("set",{mute:!t.$store.state.mute})}}},[n("img",{staticClass:"small",attrs:{src:t.$store.state.mute?"/assets/ex/mute.svg":"/assets/ex/volume.svg"}})]),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"selectable",on:{click:t.fullscreenToggle}},[n("img",{staticClass:"small",attrs:{src:t.$store.state.fullscreen?"/assets/ex/unfullscreen.svg":"/assets/ex/fullscreen.svg"}})])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"selectable"},[e("img",{attrs:{src:"/assets/ex/help.svg"}})])}],!1,null,"4e80b97e",null).exports),z={props:{prevPaneIndex:{},nextPaneIndex:{}},data:function(){return{}},computed:{},watch:{},mounted:function(){},methods:{}},k=(n(271),Object(c.a)(z,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"overlaynav"},[n("div",[null!==t.prevPaneIndex?n("div",{staticClass:"left navbutton",on:{click:function(e){return t.$emit("prev")}}},[t._v("\n      ←\n    ")]):t._e()]),t._v(" "),n("div",[null!==t.nextPaneIndex?n("div",{staticClass:"right navbutton",on:{click:function(e){return t.$emit("next")}}},[t._v("\n      →\n    ")]):t._e()])])}),[],!1,null,"391a730d",null).exports),O={props:{src:{},interactive:{default:!0},index:{},loop:{default:!1},volume:{default:1},fillScreen:{default:!0}},data:function(){return{isLoaded:!1,videoSize:[1080,720],displaySrc:null,displayFillScreen:!0,showMask:!1}},computed:{path:function(){return this.$store.state.path},mute:function(){return this.$store.state.mute},videoAspectRatio:function(){return this.videoSize[0]/this.videoSize[1]}},watch:{src:function(){this.src?this.displaySrc=this.src:this.isLoaded=!1},index:function(){var t=this;this.src?(this.showMask=!0,setTimeout((function(){t.displaySrc===t.src&&(t.$refs.video.currentTime=0),t.displaySrc=t.src}),200)):(this.isLoaded=!1,this.showMask=!1)}},mounted:function(){this.displaySrc=this.src,this.displayFillScreen=this.fillScreen},methods:{onLoad:function(t){var e=this,n=t?t.target:this.$refs.video;this.videoSize=[n.videoWidth,n.videoHeight],this.$refs.video.volume=this.volume,this.$nextTick((function(){e.isLoaded=!0,e.displayFillScreen=e.fillScreen,setTimeout((function(){n.play(),e.showMask=!1}),200)}))}}},I=(n(273),{components:{Blank:d,BgImage:m,TextPane:S,Sound:w,VideoPane:Object(c.a)(O,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"videoholder"},[n("video",{ref:"video",class:{on:t.isLoaded,fillscreen:t.displayFillScreen},style:{width:t.displayFillScreen?100*t.videoAspectRatio+"vh":"auto","min-height":t.displayFillScreen?1/t.videoAspectRatio*100+"vw":"auto"},attrs:{src:t.path+"/"+t.displaySrc,controls:!!t.interactive,autoplay:"",loop:t.loop,preload:"auto"},domProps:{muted:t.mute},on:{canplay:t.onLoad}}),t._v(" "),n("div",{staticClass:"mask",class:{on:t.showMask}})])}),[],!1,null,"0469d799",null).exports,Navigation:P,OverlayNav:k},props:{title:{},panes:{default:function(){return[]}},pathBase:{},slug:{},bgm:{}},data:function(){return{currentPaneIndex:null,showOverlayNav:!1,forceShowOverlayNav:!1,currentBgm:this.bgm}},computed:{pane:function(){return this.panes?this.panes[this.currentPaneIndex]:{}},prevPaneIndex:function(){return null!==this.currentPaneIndex&&this.currentPaneIndex>0?this.currentPaneIndex-1:null},nextPaneIndex:function(){return null!==this.currentPaneIndex&&this.panes.length>this.currentPaneIndex+1?this.currentPaneIndex+1:null}},watch:{currentPaneIndex:function(){this.preloadPane(this.nextPaneIndex),this.preloadPane(this.prevPaneIndex)},pane:function(){for(var i=this.currentPaneIndex;i>=0;i--)if(this.panes[i].bgm)return void(this.currentBgm=this.panes[i].bgm);this.currentBgm=this.bgm}},mounted:function(){this.$store.commit("set",{path:this.pathBase+this.slug}),this.currentPaneIndex=0,this.preloadPane(this.currentPaneIndex+1),window.addEventListener("keydown",this.keyDown),this.handleResize(),window.addEventListener("resize",this.handleResize)},beforeDestroy:function(){window.removeEventListener("keydown",this.keyDown),window.removeEventListener("resize",this.handleResize)},methods:{handleResize:function(){this.$store.commit("set",{winSize:[parseInt(this.$refs.master.offsetWidth),parseInt(this.$refs.master.offsetHeight)]})},prev:function(){null!==this.prevPaneIndex&&(this.currentPaneIndex=this.prevPaneIndex)},next:function(){null!==this.nextPaneIndex&&(this.currentPaneIndex=this.nextPaneIndex)},navigateToPane:function(t){this.panes[t]&&(this.currentPaneIndex=t)},preloadPane:function(t){if(!(!this.panes||t>this.panes.length||t<0)&&this.panes[t]&&this.panes[t].image){var e=new Image;e.addEventListener("load",(function(t){})),e.src="".concat(this.pathBase+this.slug,"/").concat(this.panes[t].image)}},keyDown:function(t){"ArrowRight"!==t.code&&"ArrowDown"!==t.code||(this.$el.focus(),this.next(),this.showOverlayNav=!1),"ArrowLeft"!==t.code&&"ArrowUp"!==t.code||(this.$el.focus(),this.prev(),this.showOverlayNav=!1),"KeyM"===t.code&&this.$store.commit("set",{mute:!this.$store.state.mute})}}});n(275);function $(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function T(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?$(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):$(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var C={layout:"exhibition",asyncData:function(t){return Object(r.a)(regeneratorRuntime.mark((function e(){var n,o,r,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.route,o=n.path.substring(n.path.lastIndexOf("/")+1),r="/exhibitions/",e.next=5,fetch("".concat(r).concat(o,"/data.json")).then((function(t){return t.json()}));case 5:return data=e.sent,e.abrupt("return",{data:T(T({},data),{},{slug:o,pathBase:r})});case 7:case"end":return e.stop()}}),e)})))()},head:function(){return{title:"Kyoto",meta:[{property:"og:title",hid:"og:title",content:"Bridge To Kyoto"},{property:"twitter:title",hid:"twitter:title",content:"Bridge To Kyoto"},{hid:"og:url",property:"og:url",content:"https://www.brdg.to/"},{hid:"og:site_name",property:"og:site_name",content:"Bridge To Kyoto"}]}},components:{Exhibition:Object(c.a)(I,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"master",staticClass:"exhibition",attrs:{id:"master"},on:{mousemove:function(e){t.showOverlayNav=!0},mouseleave:function(e){t.showOverlayNav=!1}}},[n("iframe",{attrs:{id:"preloadautoplay",src:"/assets/ex/silence.mp3",allow:"autoplay"}}),t._v(" "),n("transition",{attrs:{name:"fade"}},[t.currentBgm?n("div",{staticClass:"soundholder"},[n("Sound",t._b({key:t.currentBgm.src,attrs:{loop:!0}},"Sound",t.currentBgm,!1))],1):t._e()]),t._v(" "),n("div",{staticClass:"paneholder",style:{"background-color":t.pane?t.pane.background:"#000"}},[t.pane&&0!==Object.keys(t.pane).length?[n("div",{staticClass:"bgcolor",style:{background:"#000"}}),t._v(" "),t.pane.image?n("BgImage",t._b({attrs:{index:t.currentPaneIndex}},"BgImage",Object.assign({},t.pane,{title:"",text:""}),!1)):t._e(),t._v(" "),n("VideoPane",t._b({attrs:{index:t.currentPaneIndex}},"VideoPane",t.pane.video,!1)),t._v(" "),n("TextPane",t._b({},"TextPane",t.pane,!1))]:n("Blank"),t._v(" "),n("Navigation",{staticClass:"nav",class:{hide:!t.showOverlayNav&&!t.forceShowOverlayNav&&null!==t.nextPaneIndex&&null!==t.prevPaneIndex},attrs:{title:t.title,panes:t.panes,currentPaneIndex:t.currentPaneIndex},on:{navigateToPane:t.navigateToPane}}),t._v(" "),n("transition",{attrs:{name:"fade"}},[t.showOverlayNav||t.forceShowOverlayNav?n("OverlayNav",{attrs:{prevPaneIndex:t.prevPaneIndex,nextPaneIndex:t.nextPaneIndex,currentPaneIndex:t.currentPaneIndex},on:{prev:t.prev,next:t.next}}):t._e()],1)],2)],1)}),[],!1,null,"7ee071a8",null).exports}},D=(n(277),Object(c.a)(C,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("Exhibition",t._b({staticClass:"exholder"},"Exhibition",t.data,!1))}),[],!1,null,null,null));e.default=D.exports}}]);